"use strict";
exports.__esModule = true;
var url_1 = require("url");
var BasePath = /** @class */ (function () {
    function BasePath(server) {
        this.variables = {};
        this.path = '';
        // break the url into parts
        // baseUrl param added to make the parsing of relative paths go well
        var serverUrl = new url_1.URL(server.url, 'http://localhost');
        var urlPath = decodeURI(serverUrl.pathname).replace(/\/$/, '');
        if (/{\w+}/.test(urlPath)) {
            // has variable that we need to check out
            urlPath = urlPath.replace(/{(\w+)}/g, function (substring, p1) { return ":" + p1; });
        }
        this.path = urlPath;
        for (var variable in server.variables) {
            if (server.variables.hasOwnProperty(variable)) {
                this.variables[variable] = { "enum": server.variables[variable]["enum"] };
            }
        }
    }
    BasePath.prototype.hasVariables = function () {
        return Object.keys(this.variables).length > 0;
    };
    return BasePath;
}());
exports["default"] = BasePath;
//# sourceMappingURL=BasePath.js.map